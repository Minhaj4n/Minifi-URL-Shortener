{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MINHAJUL ISLAM\\\\Desktop\\\\Minhaj\\\\Bitly_Clone\\\\url-shortener-react\\\\frontend\\\\src\\\\pages\\\\Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport axios from 'axios';\nimport { useAuth } from '../context/AuthContext';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { Line } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\n\n// DTO Interfaces (consistent with backend)\n\n// --- Helper Function to Format Date for API ---\nconst formatDateForAPI = dateString => {\n  return `${dateString}T00:00:00`;\n};\nconst formatEndDateForAPI = dateString => {\n  return `${dateString}T23:59:59`;\n};\n\n// --- Chart Configuration ---\nconst chartOptions = {\n  responsive: true,\n  maintainAspectRatio: false,\n  plugins: {\n    legend: {\n      position: 'top'\n    },\n    title: {\n      display: true,\n      text: 'Clicks Over Time' // Title will be updated dynamically\n    },\n    tooltip: {\n      callbacks: {\n        label: function (context) {\n          return ` Clicks: ${context.raw}`;\n        }\n      }\n    }\n  },\n  scales: {\n    y: {\n      beginAtZero: true,\n      ticks: {\n        stepSize: 1,\n        precision: 0 // Ensure integer ticks\n      }\n    },\n    x: {\n      ticks: {\n        maxRotation: 45,\n        minRotation: 45\n      }\n    }\n  }\n};\n\n// --- Dashboard Component ---\nconst Dashboard = () => {\n  _s();\n  const {\n    user,\n    logout\n  } = useAuth();\n  const queryClient = useQueryClient();\n  const navigate = useNavigate();\n\n  // State for URL Shortening\n  const [originalUrlInput, setOriginalUrlInput] = useState('');\n  const [shortenError, setShortenError] = useState('');\n  const [lastShortened, setLastShortened] = useState(null);\n\n  // State for Analytics\n  const [selectedUrl, setSelectedUrl] = useState(null);\n  const [startDate, setStartDate] = useState(new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]);\n  const [endDate, setEndDate] = useState(new Date().toISOString().split('T')[0]);\n\n  // --- Data Fetching: User's URLs ---\n  const {\n    data: urls,\n    isLoading: urlsLoading\n  } = useQuery({\n    queryKey: ['urls', user === null || user === void 0 ? void 0 : user.username],\n    // Include username in key\n    queryFn: async () => {\n      const response = await axios.get('/api/urls/myurls');\n      console.log('URLs response:', response.data);\n      return response.data;\n    },\n    enabled: !!user // Only fetch if user is loaded\n  });\n\n  // --- Data Fetching: Analytics (Specific or Overall) ---\n  const analyticsQueryKey = selectedUrl ? ['analytics', selectedUrl, startDate, endDate] : ['analytics', 'user', startDate, endDate]; // Different key for overall analytics\n\n  const analyticsQueryFn = async () => {\n    const params = {\n      startDate: formatDateForAPI(startDate),\n      endDate: formatEndDateForAPI(endDate)\n    };\n    let url = '/api/urls/analytics/user'; // Default to overall user analytics\n    if (selectedUrl) {\n      url = `/api/urls/analytics/${selectedUrl}`;\n    }\n    console.log(`Fetching analytics from ${url} with params:`, params);\n    try {\n      const response = await axios.get(url, {\n        params\n      });\n      console.log('Analytics response:', response.data);\n      const data = Array.isArray(response.data) ? response.data : [];\n      const sortedData = data.sort((a, b) => new Date(a.clickDate).getTime() - new Date(b.clickDate).getTime());\n      console.log('Processed analytics data:', sortedData);\n      return sortedData;\n    } catch (error) {\n      console.error('Error fetching analytics:', error);\n      // Return empty array or throw? Let's return empty to avoid breaking UI\n      // Consider specific error handling based on status code if needed\n      return [];\n    }\n  };\n  const {\n    data: analytics,\n    isLoading: analyticsLoading,\n    error: analyticsError\n  } = useQuery({\n    queryKey: analyticsQueryKey,\n    queryFn: analyticsQueryFn,\n    enabled: !!user // Only fetch analytics if user is loaded\n  });\n\n  // --- Mutation: Shorten URL ---\n  const shortenMutation = useMutation({\n    mutationFn: async ({\n      originalUrl\n    }) => {\n      const response = await axios.post('/api/urls/shorten', {\n        originalUrl\n      });\n      return response.data;\n    },\n    onSuccess: data => {\n      console.log('Shortened URL data:', data);\n      setLastShortened(data); // Store last shortened URL info\n      setOriginalUrlInput(''); // Clear input\n      setShortenError('');\n      queryClient.invalidateQueries({\n        queryKey: ['urls', user === null || user === void 0 ? void 0 : user.username]\n      }); // Refetch URL list\n    },\n    onError: error => {\n      console.error('Error shortening URL:', error);\n      setShortenError(`Failed to shorten URL: ${error.message}`);\n      setLastShortened(null);\n    }\n  });\n  const handleShortenSubmit = e => {\n    e.preventDefault();\n    setShortenError('');\n    setLastShortened(null);\n    if (!originalUrlInput.trim()) {\n      setShortenError('Please enter a URL.');\n      return;\n    }\n    shortenMutation.mutate({\n      originalUrl: originalUrlInput\n    });\n  };\n\n  // --- Calculations & Formatting ---\n  const totalClicks = analytics ? analytics.reduce((sum, event) => sum + event.count, 0) : 0;\n\n  // Function to create the full short URL for linking\n  const getFullShortUrl = shortCode => {\n    // Assuming shortUrl from DTO is just the code\n    // Adjust if your backend provides the full URL including http://.../\n    return `${axios.defaults.baseURL}/${shortCode}`;\n  };\n\n  // Prepare chart data dynamically\n  const chartData = {\n    labels: (analytics === null || analytics === void 0 ? void 0 : analytics.map(event => new Date(event.clickDate).toLocaleDateString())) || [],\n    datasets: [{\n      label: 'Clicks',\n      data: (analytics === null || analytics === void 0 ? void 0 : analytics.map(event => event.count)) || [],\n      borderColor: 'rgb(75, 192, 192)',\n      tension: 0.1,\n      fill: false\n    }]\n  };\n\n  // Update chart title dynamically\n  const dynamicChartOptions = {\n    ...chartOptions,\n    plugins: {\n      ...chartOptions.plugins,\n      title: {\n        ...chartOptions.plugins.title,\n        text: selectedUrl ? 'Clicks Over Time (Selected URL)' : 'Clicks Over Time (All URLs)'\n      }\n    }\n  };\n\n  // --- Render Logic ---\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"bg-white shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between h-16\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              className: \"text-xl font-bold text-blue-600\",\n              children: \"QuickLink\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-700 mr-4\",\n              children: [\"Welcome, \", user === null || user === void 0 ? void 0 : user.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: logout,\n              className: \"text-gray-700 hover:text-gray-900\",\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 12\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8 p-6 bg-white rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold mb-4\",\n          children: \"Shorten a New URL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleShortenSubmit,\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"originalUrl\",\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Enter URL to shorten:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"originalUrl\",\n              type: \"url\",\n              value: originalUrlInput,\n              onChange: e => setOriginalUrlInput(e.target.value),\n              placeholder: \"https://example.com/very/long/url/to/shorten\",\n              className: \"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              required: true,\n              disabled: shortenMutation.isPending\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: shortenMutation.isPending,\n            className: \"w-full sm:w-auto bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:bg-blue-300 transition-colors\",\n            children: shortenMutation.isPending ? 'Shortening...' : 'Shorten URL'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), shortenError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-3 text-red-600\",\n          children: shortenError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this), lastShortened && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 p-3 bg-green-50 border border-green-200 rounded-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-green-800\",\n            children: \"Successfully shortened!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 mt-1\",\n            children: [\"Original: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"break-all\",\n              children: lastShortened.originalUrl\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 67\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: [\"Short URL:\", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: getFullShortUrl(lastShortened.shortUrl),\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              className: \"text-blue-600 hover:underline ml-1 break-all\",\n              children: getFullShortUrl(lastShortened.shortUrl)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-semibold mb-4\",\n            children: \"Your Shortened URLs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this), urlsLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [...Array(3)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-24 bg-gray-200 rounded-lg animate-pulse\"\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this) : !urls || urls.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"You haven't shortened any URLs yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: urls === null || urls === void 0 ? void 0 : urls.map(url => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-4 border rounded-lg cursor-pointer transition-all duration-150 ease-in-out ${selectedUrl === url.id ? 'border-blue-500 bg-blue-50 shadow-md' : 'border-gray-200 hover:border-gray-300 hover:shadow-sm'}`,\n              onClick: () => setSelectedUrl(prev => prev === url.id ? null : url.id) // Toggle selection, null to deselect\n              ,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-start mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500 break-all pr-2\",\n                  children: url.originalUrl\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-600 font-medium whitespace-nowrap\",\n                  children: [url.clickCount, \" total clicks\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                  href: getFullShortUrl(url.shortUrl) // Use helper function\n                  ,\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  onClick: e => e.stopPropagation() // Prevent card click when clicking link\n                  ,\n                  className: \"text-blue-600 hover:underline break-all text-lg font-medium\",\n                  children: getFullShortUrl(url.shortUrl)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-400 whitespace-nowrap ml-2\",\n                  children: [\"Created: \", new Date(url.createdDate).toLocaleDateString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 21\n              }, this)]\n            }, url.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-semibold mb-4\",\n            children: selectedUrl ? 'URL Analytics' : 'Overall Analytics'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6 p-4 bg-white rounded-lg shadow-sm border\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Select Date Range:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: startDate,\n                onChange: e => setStartDate(e.target.value),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: endDate,\n                onChange: e => setEndDate(e.target.value),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), analyticsLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-16 bg-gray-200 rounded-lg animate-pulse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-64 bg-gray-200 rounded-lg animate-pulse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-32 bg-gray-200 rounded-lg animate-pulse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this) : analyticsError ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-red-600 p-4 border border-red-200 rounded-lg bg-red-50\",\n            children: [\"Error loading analytics: \", analyticsError instanceof Error ? analyticsError.message : 'Unknown error']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 15\n          }, this) : !analytics || analytics.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-gray-500 p-4 border rounded-lg bg-gray-50 text-center\",\n            children: [\"No click data available for the selected \", selectedUrl ? 'URL and' : '', \" date range.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 16\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 bg-white border rounded-lg shadow-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-medium text-gray-700 mb-1\",\n                children: \"Total Clicks\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-3xl font-bold text-blue-600\",\n                children: totalClicks\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mt-1\",\n                children: [\"Between \", new Date(startDate).toLocaleDateString(), \" and \", new Date(endDate).toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 bg-white border rounded-lg shadow-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-medium text-gray-700 mb-2\",\n                children: selectedUrl ? 'Daily Clicks (Selected URL)' : 'Daily Clicks (All URLs)'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-64 relative\",\n                children: /*#__PURE__*/_jsxDEV(Line, {\n                  data: chartData,\n                  options: dynamicChartOptions\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 223,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"xuXQm4+zuERoDALCEpdl3kDMkOc=\", false, function () {\n  return [useAuth, useQueryClient, useNavigate, useQuery, useQuery, useMutation];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useQuery","useMutation","useQueryClient","axios","useAuth","Link","useNavigate","Line","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","jsxDEV","_jsxDEV","register","formatDateForAPI","dateString","formatEndDateForAPI","chartOptions","responsive","maintainAspectRatio","plugins","legend","position","title","display","text","tooltip","callbacks","label","context","raw","scales","y","beginAtZero","ticks","stepSize","precision","x","maxRotation","minRotation","Dashboard","_s","user","logout","queryClient","navigate","originalUrlInput","setOriginalUrlInput","shortenError","setShortenError","lastShortened","setLastShortened","selectedUrl","setSelectedUrl","startDate","setStartDate","Date","now","toISOString","split","endDate","setEndDate","data","urls","isLoading","urlsLoading","queryKey","username","queryFn","response","get","console","log","enabled","analyticsQueryKey","analyticsQueryFn","params","url","Array","isArray","sortedData","sort","a","b","clickDate","getTime","error","analytics","analyticsLoading","analyticsError","shortenMutation","mutationFn","originalUrl","post","onSuccess","invalidateQueries","onError","message","handleShortenSubmit","e","preventDefault","trim","mutate","totalClicks","reduce","sum","event","count","getFullShortUrl","shortCode","defaults","baseURL","chartData","labels","map","toLocaleDateString","datasets","borderColor","tension","fill","dynamicChartOptions","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","htmlFor","id","type","value","onChange","target","placeholder","required","disabled","isPending","href","shortUrl","rel","_","i","length","prev","clickCount","stopPropagation","createdDate","Error","options","_c","$RefreshReg$"],"sources":["C:/Users/MINHAJUL ISLAM/Desktop/Minhaj/Bitly_Clone/url-shortener-react/frontend/src/pages/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { Line } from 'react-chartjs-2';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n} from 'chart.js';\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n);\r\n\r\n// DTO Interfaces (consistent with backend)\r\ninterface UrlMappingDTO {\r\n  id: number;\r\n  originalUrl: string;\r\n  shortUrl: string; // Expecting just the code, e.g., \"abcdef\"\r\n  clickCount: number;\r\n  createdDate: string;\r\n  username: string;\r\n}\r\n\r\ninterface ClickEventDTO {\r\n  clickDate: string;\r\n  count: number;\r\n}\r\n\r\n// --- Helper Function to Format Date for API ---\r\nconst formatDateForAPI = (dateString: string): string => {\r\n  return `${dateString}T00:00:00`;\r\n};\r\nconst formatEndDateForAPI = (dateString: string): string => {\r\n  return `${dateString}T23:59:59`;\r\n};\r\n\r\n// --- Chart Configuration ---\r\nconst chartOptions = {\r\n  responsive: true,\r\n  maintainAspectRatio: false,\r\n  plugins: {\r\n    legend: {\r\n      position: 'top' as const,\r\n    },\r\n    title: {\r\n      display: true,\r\n      text: 'Clicks Over Time' // Title will be updated dynamically\r\n    },\r\n    tooltip: {\r\n      callbacks: {\r\n        label: function(context: any) {\r\n          return ` Clicks: ${context.raw}`;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  scales: {\r\n    y: {\r\n      beginAtZero: true,\r\n      ticks: {\r\n        stepSize: 1,\r\n        precision: 0 // Ensure integer ticks\r\n      }\r\n    },\r\n    x: {\r\n      ticks: {\r\n        maxRotation: 45,\r\n        minRotation: 45\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n// --- Dashboard Component ---\r\nconst Dashboard: React.FC = () => {\r\n  const { user, logout } = useAuth();\r\n  const queryClient = useQueryClient();\r\n  const navigate = useNavigate();\r\n\r\n  // State for URL Shortening\r\n  const [originalUrlInput, setOriginalUrlInput] = useState('');\r\n  const [shortenError, setShortenError] = useState('');\r\n  const [lastShortened, setLastShortened] = useState<UrlMappingDTO | null>(null);\r\n\r\n  // State for Analytics\r\n  const [selectedUrl, setSelectedUrl] = useState<number | null>(null);\r\n  const [startDate, setStartDate] = useState<string>(new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]);\r\n  const [endDate, setEndDate] = useState<string>(new Date().toISOString().split('T')[0]);\r\n\r\n  // --- Data Fetching: User's URLs ---\r\n  const { data: urls, isLoading: urlsLoading } = useQuery<UrlMappingDTO[]>({\r\n    queryKey: ['urls', user?.username], // Include username in key\r\n    queryFn: async () => {\r\n      const response = await axios.get('/api/urls/myurls');\r\n      console.log('URLs response:', response.data);\r\n      return response.data;\r\n    },\r\n    enabled: !!user // Only fetch if user is loaded\r\n  });\r\n\r\n  // --- Data Fetching: Analytics (Specific or Overall) ---\r\n  const analyticsQueryKey = selectedUrl \r\n    ? ['analytics', selectedUrl, startDate, endDate] \r\n    : ['analytics', 'user', startDate, endDate]; // Different key for overall analytics\r\n\r\n  const analyticsQueryFn = async () => {\r\n    const params = {\r\n      startDate: formatDateForAPI(startDate),\r\n      endDate: formatEndDateForAPI(endDate)\r\n    };\r\n    let url = '/api/urls/analytics/user'; // Default to overall user analytics\r\n    if (selectedUrl) {\r\n      url = `/api/urls/analytics/${selectedUrl}`;\r\n    }\r\n    console.log(`Fetching analytics from ${url} with params:`, params);\r\n    \r\n    try {\r\n      const response = await axios.get<ClickEventDTO[]>(url, { params });\r\n      console.log('Analytics response:', response.data);\r\n      const data = Array.isArray(response.data) ? response.data : [];\r\n      const sortedData = data.sort((a, b) => \r\n        new Date(a.clickDate).getTime() - new Date(b.clickDate).getTime()\r\n      );\r\n      console.log('Processed analytics data:', sortedData);\r\n      return sortedData;\r\n    } catch (error) {\r\n      console.error('Error fetching analytics:', error);\r\n      // Return empty array or throw? Let's return empty to avoid breaking UI\r\n      // Consider specific error handling based on status code if needed\r\n      return []; \r\n    }\r\n  };\r\n\r\n  const { data: analytics, isLoading: analyticsLoading, error: analyticsError } = useQuery<ClickEventDTO[]>({\r\n    queryKey: analyticsQueryKey,\r\n    queryFn: analyticsQueryFn,\r\n    enabled: !!user // Only fetch analytics if user is loaded\r\n  });\r\n\r\n  // --- Mutation: Shorten URL ---\r\n  const shortenMutation = useMutation<UrlMappingDTO, Error, { originalUrl: string }>({\r\n    mutationFn: async ({ originalUrl }) => {\r\n      const response = await axios.post<UrlMappingDTO>('/api/urls/shorten', { originalUrl });\r\n      return response.data;\r\n    },\r\n    onSuccess: (data) => {\r\n      console.log('Shortened URL data:', data);\r\n      setLastShortened(data); // Store last shortened URL info\r\n      setOriginalUrlInput(''); // Clear input\r\n      setShortenError('');\r\n      queryClient.invalidateQueries({ queryKey: ['urls', user?.username] }); // Refetch URL list\r\n    },\r\n    onError: (error) => {\r\n      console.error('Error shortening URL:', error);\r\n      setShortenError(`Failed to shorten URL: ${error.message}`);\r\n      setLastShortened(null);\r\n    },\r\n  });\r\n\r\n  const handleShortenSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setShortenError('');\r\n    setLastShortened(null);\r\n    if (!originalUrlInput.trim()) {\r\n      setShortenError('Please enter a URL.');\r\n      return;\r\n    }\r\n    shortenMutation.mutate({ originalUrl: originalUrlInput });\r\n  };\r\n\r\n  // --- Calculations & Formatting ---\r\n  const totalClicks = analytics ? analytics.reduce((sum, event) => sum + event.count, 0) : 0;\r\n  \r\n  // Function to create the full short URL for linking\r\n  const getFullShortUrl = (shortCode: string): string => {\r\n    // Assuming shortUrl from DTO is just the code\r\n    // Adjust if your backend provides the full URL including http://.../\r\n    return `${axios.defaults.baseURL}/${shortCode}`;\r\n  };\r\n  \r\n  // Prepare chart data dynamically\r\n  const chartData = {\r\n    labels: analytics?.map(event => new Date(event.clickDate).toLocaleDateString()) || [],\r\n    datasets: [\r\n      {\r\n        label: 'Clicks',\r\n        data: analytics?.map(event => event.count) || [],\r\n        borderColor: 'rgb(75, 192, 192)',\r\n        tension: 0.1,\r\n        fill: false\r\n      }\r\n    ]\r\n  };\r\n  \r\n  // Update chart title dynamically\r\n  const dynamicChartOptions = {\r\n    ...chartOptions,\r\n    plugins: {\r\n      ...chartOptions.plugins,\r\n      title: {\r\n        ...chartOptions.plugins.title,\r\n        text: selectedUrl ? 'Clicks Over Time (Selected URL)' : 'Clicks Over Time (All URLs)'\r\n      }\r\n    }\r\n  };\r\n\r\n  // --- Render Logic ---\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Navigation */}\r\n      <nav className=\"bg-white shadow-sm\">\r\n         <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n           <div className=\"flex justify-between h-16\">\r\n             <div className=\"flex items-center\">\r\n               <Link to=\"/\" className=\"text-xl font-bold text-blue-600\">\r\n                 QuickLink\r\n               </Link>\r\n             </div>\r\n             <div className=\"flex items-center\">\r\n               <span className=\"text-gray-700 mr-4\">Welcome, {user?.username}</span>\r\n               <button\r\n                 onClick={logout}\r\n                 className=\"text-gray-700 hover:text-gray-900\"\r\n               >\r\n                 Logout\r\n               </button>\r\n             </div>\r\n           </div>\r\n         </div>\r\n       </nav>\r\n\r\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\r\n        \r\n        {/* Shorten URL Form */}\r\n        <div className=\"mb-8 p-6 bg-white rounded-lg shadow\">\r\n          <h2 className=\"text-2xl font-semibold mb-4\">Shorten a New URL</h2>\r\n          <form onSubmit={handleShortenSubmit} className=\"space-y-4\">\r\n            <div>\r\n              <label htmlFor=\"originalUrl\" className=\"block text-sm font-medium text-gray-700 mb-1\">Enter URL to shorten:</label>\r\n              <input\r\n                id=\"originalUrl\"\r\n                type=\"url\"\r\n                value={originalUrlInput}\r\n                onChange={(e) => setOriginalUrlInput(e.target.value)}\r\n                placeholder=\"https://example.com/very/long/url/to/shorten\"\r\n                className=\"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                required\r\n                disabled={shortenMutation.isPending}\r\n              />\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={shortenMutation.isPending}\r\n              className=\"w-full sm:w-auto bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:bg-blue-300 transition-colors\"\r\n            >\r\n              {shortenMutation.isPending ? 'Shortening...' : 'Shorten URL'}\r\n            </button>\r\n          </form>\r\n          {shortenError && (\r\n            <p className=\"mt-3 text-red-600\">{shortenError}</p>\r\n          )}\r\n          {lastShortened && (\r\n            <div className=\"mt-4 p-3 bg-green-50 border border-green-200 rounded-md\">\r\n              <p className=\"text-green-800\">Successfully shortened!</p>\r\n              <p className=\"text-sm text-gray-600 mt-1\">Original: <span className=\"break-all\">{lastShortened.originalUrl}</span></p>\r\n              <p className=\"text-sm text-gray-600\">Short URL: \r\n                <a \r\n                  href={getFullShortUrl(lastShortened.shortUrl)} \r\n                  target=\"_blank\" \r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"text-blue-600 hover:underline ml-1 break-all\"\r\n                >\r\n                  {getFullShortUrl(lastShortened.shortUrl)}\r\n                </a>\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Main Content Grid: URL List and Analytics */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n          \r\n          {/* URL List */} \r\n          <div className=\"lg:col-span-2\">\r\n            <h2 className=\"text-2xl font-semibold mb-4\">Your Shortened URLs</h2>\r\n            {urlsLoading ? (\r\n              <div className=\"space-y-4\">\r\n                {[...Array(3)].map((_, i) => (\r\n                  <div key={i} className=\"h-24 bg-gray-200 rounded-lg animate-pulse\"></div>\r\n                ))}\r\n              </div>\r\n            ) : !urls || urls.length === 0 ? (\r\n              <p className=\"text-gray-500\">You haven't shortened any URLs yet.</p>\r\n            ) : (\r\n              <div className=\"space-y-4\">\r\n                {urls?.map((url) => (\r\n                  <div\r\n                    key={url.id}\r\n                    className={`p-4 border rounded-lg cursor-pointer transition-all duration-150 ease-in-out ${\r\n                      selectedUrl === url.id \r\n                        ? 'border-blue-500 bg-blue-50 shadow-md' \r\n                        : 'border-gray-200 hover:border-gray-300 hover:shadow-sm'\r\n                    }`}\r\n                    onClick={() => setSelectedUrl(prev => prev === url.id ? null : url.id)} // Toggle selection, null to deselect\r\n                  >\r\n                    <div className=\"flex justify-between items-start mb-1\">\r\n                      <p className=\"text-sm text-gray-500 break-all pr-2\">{url.originalUrl}</p>\r\n                      <span className=\"text-sm text-gray-600 font-medium whitespace-nowrap\">{url.clickCount} total clicks</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between items-center mt-1\">\r\n                      <a\r\n                        href={getFullShortUrl(url.shortUrl)} // Use helper function\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        onClick={(e) => e.stopPropagation()} // Prevent card click when clicking link\r\n                        className=\"text-blue-600 hover:underline break-all text-lg font-medium\"\r\n                      >\r\n                        {/* Display the full short URL */} \r\n                        {getFullShortUrl(url.shortUrl)} \r\n                      </a>\r\n                      <span className=\"text-xs text-gray-400 whitespace-nowrap ml-2\">\r\n                        Created: {new Date(url.createdDate).toLocaleDateString()}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Analytics Section */}\r\n          <div className=\"lg:col-span-1\">\r\n            <h2 className=\"text-2xl font-semibold mb-4\">\r\n              {selectedUrl ? 'URL Analytics' : 'Overall Analytics'} \r\n            </h2>\r\n            {/* Date Range Picker */}\r\n            <div className=\"mb-6 p-4 bg-white rounded-lg shadow-sm border\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Select Date Range:</label>\r\n              <div className=\"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2\">\r\n                <input\r\n                  type=\"date\"\r\n                  value={startDate}\r\n                  onChange={(e) => setStartDate(e.target.value)}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                />\r\n                <input\r\n                  type=\"date\"\r\n                  value={endDate}\r\n                  onChange={(e) => setEndDate(e.target.value)}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Analytics Display Area */}\r\n            {analyticsLoading ? (\r\n              <div className=\"space-y-4\">\r\n                 <div className=\"h-16 bg-gray-200 rounded-lg animate-pulse\"></div>\r\n                 <div className=\"h-64 bg-gray-200 rounded-lg animate-pulse\"></div>\r\n                 <div className=\"h-32 bg-gray-200 rounded-lg animate-pulse\"></div>\r\n               </div>\r\n            ) : analyticsError ? (\r\n              <div className=\"text-red-600 p-4 border border-red-200 rounded-lg bg-red-50\">\r\n                Error loading analytics: {analyticsError instanceof Error ? analyticsError.message : 'Unknown error'}\r\n              </div>\r\n            ) : !analytics || analytics.length === 0 ? (\r\n               <div className=\"text-gray-500 p-4 border rounded-lg bg-gray-50 text-center\">\r\n                 No click data available for the selected {selectedUrl ? 'URL and' : ''} date range.\r\n               </div>\r\n            ) : (\r\n              <div className=\"space-y-6\">\r\n                {/* Total Clicks Card */}\r\n                <div className=\"p-4 bg-white border rounded-lg shadow-sm\">\r\n                  <h3 className=\"text-lg font-medium text-gray-700 mb-1\">Total Clicks</h3>\r\n                  <p className=\"text-3xl font-bold text-blue-600\">{totalClicks}</p>\r\n                  <p className=\"text-xs text-gray-500 mt-1\">\r\n                    Between {new Date(startDate).toLocaleDateString()} and {new Date(endDate).toLocaleDateString()}\r\n                  </p>\r\n                </div>\r\n\r\n                {/* Clicks Over Time Chart */}\r\n                <div className=\"p-4 bg-white border rounded-lg shadow-sm\">\r\n                  <h3 className=\"text-lg font-medium text-gray-700 mb-2\">\r\n                     {selectedUrl ? 'Daily Clicks (Selected URL)' : 'Daily Clicks (All URLs)'} \r\n                  </h3>\r\n                  <div className=\"h-64 relative\">\r\n                    <Line data={chartData} options={dynamicChartOptions} />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Daily Breakdown Table (Optional) */}\r\n                {/* \r\n                <div className=\"p-4 bg-white border rounded-lg shadow-sm\">\r\n                  <h3 className=\"text-lg font-medium text-gray-700 mb-2\">Daily Breakdown</h3>\r\n                  <div className=\"space-y-1 max-h-48 overflow-y-auto\">\r\n                    {analytics?.map((event) => (\r\n                      <div key={event.clickDate} className=\"flex justify-between text-sm\">\r\n                        <span>{new Date(event.clickDate).toLocaleDateString()}</span>\r\n                        <span className=\"font-medium\">{event.count}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n                */}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}