{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MINHAJUL ISLAM\\\\Desktop\\\\Minhaj\\\\Bitly_Clone\\\\url-shortener-react\\\\frontend\\\\src\\\\pages\\\\Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport axios from 'axios';\nimport { useAuth } from '../context/AuthContext';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { Line } from 'react-chartjs-2';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, TimeScale } from 'chart.js';\nimport 'chartjs-adapter-date-fns';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, TimeScale);\n\n// DTO Interfaces (consistent with backend)\n\n// --- Helper Function to Format Date for API ---\nconst formatDateForAPI = dateString => {\n  // Ensures the date is treated as local time and formatted correctly for backend\n  const date = new Date(dateString);\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, '0');\n  const day = String(date.getDate()).padStart(2, '0');\n  return `${year}-${month}-${day}T00:00:00`;\n};\nconst formatEndDateForAPI = dateString => {\n  const date = new Date(dateString);\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, '0');\n  const day = String(date.getDate()).padStart(2, '0');\n  return `${year}-${month}-${day}T23:59:59`;\n};\n\n// --- Chart Configuration ---\nconst chartOptions = {\n  responsive: true,\n  maintainAspectRatio: false,\n  plugins: {\n    legend: {\n      position: 'top'\n    },\n    title: {\n      display: true,\n      text: 'Clicks Over Time' // Title will be updated dynamically\n    },\n    tooltip: {\n      callbacks: {\n        label: function (context) {\n          return ` Clicks: ${context.raw}`;\n        }\n      }\n    }\n  },\n  scales: {\n    y: {\n      beginAtZero: true,\n      ticks: {\n        stepSize: 1,\n        precision: 0 // Ensure integer ticks\n      }\n    },\n    x: {\n      ticks: {\n        maxRotation: 45,\n        minRotation: 45\n      }\n    }\n  }\n};\n\n// --- Data Fetching Function for Analytics ---\n// Takes shortUrl code (string) or null\nconst fetchAnalytics = async (shortUrlCode, startDateStr, endDateStr) => {\n  const params = {\n    startDate: formatDateForAPI(startDateStr),\n    endDate: formatEndDateForAPI(endDateStr)\n  };\n  let apiUrl = '/api/urls/analytics/user'; // Default to overall user analytics\n  let logPrefix = '[Overall Analytics]';\n  if (shortUrlCode !== null) {\n    apiUrl = `/api/urls/analytics/${shortUrlCode}`; // Use shortUrlCode directly in the path\n    logPrefix = `[URL Analytics Code: ${shortUrlCode}]`;\n  }\n  console.log(`${logPrefix} Fetching from ${apiUrl} with params:`, params);\n  try {\n    const response = await axios.get(apiUrl, {\n      params\n    });\n    console.log(`${logPrefix} Response data:`, response.data);\n    const data = Array.isArray(response.data) ? response.data : [];\n\n    // Sort the data by date\n    const sortedData = data.sort((a, b) => new Date(a.clickDate).getTime() - new Date(b.clickDate).getTime());\n    console.log(`${logPrefix} Processed & sorted data:`, sortedData);\n    return sortedData;\n  } catch (error) {\n    console.error(`${logPrefix} Error fetching analytics:`, error);\n    if (axios.isAxiosError(error)) {\n      var _error$response;\n      console.error(`${logPrefix} Axios error details:`, ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n    }\n    // Return empty array to avoid breaking UI, but log the error\n    return [];\n  }\n};\n\n// --- Dashboard Component ---\nconst Dashboard = () => {\n  _s();\n  const {\n    user,\n    logout\n  } = useAuth();\n  const queryClient = useQueryClient();\n  const navigate = useNavigate();\n\n  // State for URL Shortening\n  const [originalUrlInput, setOriginalUrlInput] = useState('');\n  const [shortenError, setShortenError] = useState('');\n  const [lastShortened, setLastShortened] = useState(null);\n\n  // State for Analytics - selectedUrl now stores the shortUrl string\n  const [selectedUrl, setSelectedUrl] = useState(null);\n  const [startDate, setStartDate] = useState(new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]);\n  const [endDate, setEndDate] = useState(new Date().toISOString().split('T')[0]);\n\n  // State to track which URL was just copied\n  const [copiedUrl, setCopiedUrl] = useState(null);\n\n  // State to trigger animation\n  const [isMounted, setIsMounted] = useState(false);\n  const [welcomeAnimation, setWelcomeAnimation] = useState(false);\n\n  // Trigger mount animation\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setIsMounted(true);\n    }, 50);\n    // Trigger welcome message animation slightly later\n    const welcomeTimer = setTimeout(() => {\n      setWelcomeAnimation(true);\n    }, 200); // Adjust delay as needed\n    return () => {\n      clearTimeout(timer);\n      clearTimeout(welcomeTimer);\n    };\n  }, []);\n\n  // Logout confirmation handler\n  const handleLogoutConfirmation = () => {\n    if (window.confirm(\"Are you sure you want to log out?\")) {\n      logout();\n    }\n  };\n\n  // --- Data Fetching: User's URLs ---\n  const {\n    data: urls,\n    isLoading: urlsLoading\n  } = useQuery({\n    queryKey: ['urls', user === null || user === void 0 ? void 0 : user.username],\n    // Include username in key\n    queryFn: async () => {\n      const response = await axios.get('/api/urls/myurls');\n      // console.log('URLs response:', response.data); // Optional: uncomment for debugging\n      return response.data;\n    },\n    enabled: !!user // Only fetch if user is loaded\n  });\n\n  // --- Data Fetching: Analytics ---\n  const {\n    data: analytics,\n    isLoading: analyticsLoading,\n    error: analyticsError\n  } = useQuery({\n    // Key changes based on selectedUrl (shortUrl string), startDate, and endDate\n    queryKey: ['analytics', selectedUrl !== null && selectedUrl !== void 0 ? selectedUrl : 'user', startDate, endDate],\n    queryFn: () => fetchAnalytics(selectedUrl, startDate, endDate),\n    // Pass selectedUrl (shortUrl string or null)\n    enabled: !!user,\n    // Only fetch analytics if user is loaded\n    refetchOnWindowFocus: false // Optional: disable refetch on window focus if causing issues\n    // staleTime: 5 * 60 * 1000, // Optional: Set data as stale after 5 minutes\n  });\n\n  // --- Mutation: Shorten URL ---\n  const shortenMutation = useMutation({\n    mutationFn: async ({\n      originalUrl\n    }) => {\n      const response = await axios.post('/api/urls/shorten', {\n        originalUrl\n      });\n      return response.data;\n    },\n    onSuccess: data => {\n      console.log('Shortened URL data:', data);\n      setLastShortened(data); // Store last shortened URL info\n      setOriginalUrlInput(''); // Clear input\n      setShortenError('');\n      queryClient.invalidateQueries({\n        queryKey: ['urls', user === null || user === void 0 ? void 0 : user.username]\n      }); // Refetch URL list\n    },\n    onError: error => {\n      console.error('Error shortening URL:', error);\n      setShortenError(`Failed to shorten URL: ${error.message}`);\n      setLastShortened(null);\n    }\n  });\n  const handleShortenSubmit = e => {\n    e.preventDefault();\n    setShortenError('');\n    setLastShortened(null);\n    if (!originalUrlInput.trim()) {\n      setShortenError('Please enter a URL.');\n      return;\n    }\n    shortenMutation.mutate({\n      originalUrl: originalUrlInput\n    });\n  };\n\n  // --- Calculations & Formatting ---\n  const totalClicks = analytics ? analytics.reduce((sum, event) => sum + event.count, 0) : 0;\n\n  // Function to create the full short URL for linking\n  const getFullShortUrl = shortCode => {\n    const base = (axios.defaults.baseURL || '').replace(/\\/$/, '');\n    const code = shortCode.replace(/^\\//, '');\n    return `${base}/${code}`;\n  };\n\n  // Prepare chart data dynamically, filling in missing dates\n  const generateChartData = () => {\n    if (!analytics) return {\n      labels: [],\n      datasets: []\n    };\n    const labels = [];\n    const dataPoints = [];\n    // Map date string (YYYY-MM-DD) from backend data to count\n    const analyticsMap = new Map(analytics.map(event => [event.clickDate.split('T')[0], event.count]));\n    let currentDate = new Date(startDate + 'T00:00:00'); // Interpret start date in local time\n    const lastDate = new Date(endDate + 'T00:00:00'); // Interpret end date in local time\n\n    // Ensure loop works across month/year changes correctly\n    while (currentDate <= lastDate) {\n      // Create the key for the map lookup in YYYY-MM-DD format from local date parts\n      const year = currentDate.getFullYear();\n      const month = String(currentDate.getMonth() + 1).padStart(2, '0');\n      const day = String(currentDate.getDate()).padStart(2, '0');\n      const dateStringForMap = `${year}-${month}-${day}`;\n\n      // Use locale string for the display label on the chart\n      labels.push(currentDate.toLocaleDateString());\n      // Lookup count using the correctly formatted local date string\n      dataPoints.push(analyticsMap.get(dateStringForMap) || 0);\n\n      // Move to the next day (modifies currentDate in place)\n      currentDate.setDate(currentDate.getDate() + 1);\n    }\n    return {\n      labels,\n      datasets: [{\n        label: 'Clicks',\n        data: dataPoints,\n        borderColor: 'rgb(75, 192, 192)',\n        tension: 0.1,\n        fill: false\n      }]\n    };\n  };\n  const chartData = generateChartData();\n\n  // Update chart title dynamically\n  const dynamicChartOptions = {\n    ...chartOptions,\n    plugins: {\n      ...chartOptions.plugins,\n      title: {\n        ...chartOptions.plugins.title,\n        text: selectedUrl ? 'Clicks Over Time (Selected URL)' : 'Clicks Over Time (All URLs)'\n      }\n    }\n  };\n\n  // Function to copy text to clipboard\n  const handleCopy = shortCode => {\n    const fullUrl = getFullShortUrl(shortCode);\n    navigator.clipboard.writeText(fullUrl).then(() => {\n      setCopiedUrl(shortCode); // Set the copied URL code for feedback\n      setTimeout(() => setCopiedUrl(null), 2000); // Reset after 2 seconds\n    }).catch(err => {\n      console.error('Failed to copy URL: ', err);\n      // Optionally show an error message to the user\n    });\n  };\n\n  // --- Render Logic ---\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `min-h-screen bg-gradient-to-b from-gray-100 to-gray-200 transition-opacity duration-500 ease-in-out ${isMounted ? 'opacity-100' : 'opacity-0'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"bg-blue-100 shadow-sm sticky top-0 z-50 border-b border-gray-200\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between h-16\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              className: \"text-2xl font-bold text-blue-600\",\n              children: \"Minifi\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overflow-hidden\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `block text-gray-700 text-base transform transition-all duration-500 ease-out ${welcomeAnimation ? 'opacity-100 translate-y-0' : 'opacity-0 -translate-y-3' // Start transparent and slightly up\n                }`,\n                children: [\"Welcome, \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: user === null || user === void 0 ? void 0 : user.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 20\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate('/'),\n              className: \"px-3 py-1.5 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-150 ease-in-out\",\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleLogoutConfirmation,\n              className: \"px-3 py-1.5 rounded-md text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors\",\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 12\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto pt-6 pb-6 sm:px-6 lg:px-8\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8 p-6 bg-white rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold mb-4\",\n          children: \"Shorten a New URL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleShortenSubmit,\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"originalUrl\",\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Enter URL to shorten:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"originalUrl\",\n              type: \"url\",\n              value: originalUrlInput,\n              onChange: e => setOriginalUrlInput(e.target.value),\n              placeholder: \"https://example.com/very/long/url/to/shorten\",\n              className: \"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              required: true,\n              disabled: shortenMutation.isPending\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: shortenMutation.isPending,\n            className: \"w-full sm:w-auto bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:bg-blue-300 transition-colors\",\n            children: shortenMutation.isPending ? 'Shortening...' : 'Shorten URL'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 11\n        }, this), shortenError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-3 text-red-600\",\n          children: shortenError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this), lastShortened && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 p-3 bg-green-50 border border-green-200 rounded-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-green-800\",\n            children: \"Successfully shortened!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 mt-1\",\n            children: [\"Original: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"break-all\",\n              children: lastShortened.originalUrl\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 67\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: [\"Short URL:\", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: getFullShortUrl(lastShortened.shortUrl),\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              className: \"text-blue-600 hover:underline ml-1 break-all\",\n              children: getFullShortUrl(lastShortened.shortUrl)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-semibold mb-4\",\n            children: \"Your Shortened URLs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 13\n          }, this), urlsLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [...Array(3)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-24 bg-gray-200 rounded-lg animate-pulse\"\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this) : !urls || urls.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"You haven't shortened any URLs yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: urls === null || urls === void 0 ? void 0 : urls.map(url => /*#__PURE__*/_jsxDEV(\"div\", {\n              // Keep using numerical id for React key\n              className: `p-4 border rounded-lg cursor-pointer transition-all duration-150 ease-in-out ${selectedUrl === url.shortUrl // Compare with shortUrl string for highlighting\n              ? 'border-blue-500 bg-blue-50 shadow-md' : 'border-gray-200 hover:border-gray-300 hover:shadow-sm'}`\n              // Set selectedUrl state to the shortUrl string or null\n              ,\n              onClick: () => setSelectedUrl(prev => prev === url.shortUrl ? null : url.shortUrl),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-start mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500 break-all pr-2\",\n                  children: url.originalUrl\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-600 font-medium whitespace-nowrap\",\n                  children: [url.clickCount, \" total clicks\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                  href: getFullShortUrl(url.shortUrl) // Use helper function\n                  ,\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  onClick: e => e.stopPropagation() // Prevent card click when clicking link\n                  ,\n                  className: \"text-blue-600 hover:underline break-all text-lg font-medium mr-3\",\n                  children: getFullShortUrl(url.shortUrl)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2 flex-shrink-0 ml-auto\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: e => {\n                      e.stopPropagation(); // Prevent card click\n                      handleCopy(url.shortUrl);\n                    },\n                    title: \"Copy short URL\",\n                    className: `p-1.5 rounded-md transition-colors ${copiedUrl === url.shortUrl ? 'bg-green-100 text-green-700' : 'bg-gray-100 text-gray-500 hover:bg-gray-200 hover:text-gray-700'}`,\n                    children: copiedUrl === url.shortUrl ?\n                    /*#__PURE__*/\n                    // CheckIcon (Heroicons example)\n                    _jsxDEV(\"svg\", {\n                      xmlns: \"http://www.w3.org/2000/svg\",\n                      className: \"h-4 w-4\",\n                      fill: \"none\",\n                      viewBox: \"0 0 24 24\",\n                      stroke: \"currentColor\",\n                      strokeWidth: 2,\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        d: \"M5 13l4 4L19 7\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 467,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 466,\n                      columnNumber: 29\n                    }, this) :\n                    /*#__PURE__*/\n                    // ClipboardDocumentIcon (Heroicons example)\n                    _jsxDEV(\"svg\", {\n                      xmlns: \"http://www.w3.org/2000/svg\",\n                      className: \"h-4 w-4\",\n                      fill: \"none\",\n                      viewBox: \"0 0 24 24\",\n                      stroke: \"currentColor\",\n                      strokeWidth: 2,\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        d: \"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 472,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 471,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 451,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs text-gray-400 whitespace-nowrap\",\n                    children: [\"Created: \", new Date(url.createdDate).toLocaleDateString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 476,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 21\n              }, this)]\n            }, url.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-semibold mb-4\",\n            children: selectedUrl ? 'URL Analytics' : 'Overall Analytics'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6 p-4 bg-white rounded-lg shadow-sm border\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Select Date Range:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: startDate,\n                onChange: e => setStartDate(e.target.value),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500\",\n                max: endDate // Prevent start date being after end date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: endDate,\n                onChange: e => setEndDate(e.target.value),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500\",\n                min: startDate // Prevent end date being before start date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 13\n          }, this), analyticsLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-16 bg-gray-200 rounded-lg animate-pulse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-64 bg-gray-200 rounded-lg animate-pulse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-32 bg-gray-200 rounded-lg animate-pulse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 15\n          }, this) : analyticsError ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-red-600 p-4 border border-red-200 rounded-lg bg-red-50\",\n            children: [\"Error loading analytics: \", analyticsError instanceof Error ? analyticsError.message : 'Unknown error']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 15\n          }, this) : !analytics || analytics.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-gray-500 p-4 border rounded-lg bg-gray-50 text-center\",\n            children: [\"No click data available for the selected \", selectedUrl ? 'URL and' : '', \" date range.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 16\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 bg-white border rounded-lg shadow-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-medium text-gray-700 mb-1\",\n                children: \"Total Clicks\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-3xl font-bold text-blue-600\",\n                children: totalClicks\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mt-1\",\n                children: [\"Between \", new Date(startDate + 'T00:00:00').toLocaleDateString(), \" and \", new Date(endDate + 'T00:00:00').toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 bg-white border rounded-lg shadow-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-medium text-gray-700 mb-2\",\n                children: selectedUrl ? 'Daily Clicks (Selected URL)' : 'Daily Clicks (All URLs)'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-64 relative\",\n                children: /*#__PURE__*/_jsxDEV(Line, {\n                  data: chartData,\n                  options: dynamicChartOptions\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 545,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 318,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"Aof0GxpEuFI1wp1/XbkE7ZR8HK0=\", false, function () {\n  return [useAuth, useQueryClient, useNavigate, useQuery, useQuery, useMutation];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useQuery","useMutation","useQueryClient","axios","useAuth","Link","useNavigate","Line","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","TimeScale","jsxDEV","_jsxDEV","register","formatDateForAPI","dateString","date","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","formatEndDateForAPI","chartOptions","responsive","maintainAspectRatio","plugins","legend","position","title","display","text","tooltip","callbacks","label","context","raw","scales","y","beginAtZero","ticks","stepSize","precision","x","maxRotation","minRotation","fetchAnalytics","shortUrlCode","startDateStr","endDateStr","params","startDate","endDate","apiUrl","logPrefix","console","log","response","get","data","Array","isArray","sortedData","sort","a","b","clickDate","getTime","error","isAxiosError","_error$response","message","Dashboard","_s","user","logout","queryClient","navigate","originalUrlInput","setOriginalUrlInput","shortenError","setShortenError","lastShortened","setLastShortened","selectedUrl","setSelectedUrl","setStartDate","now","toISOString","split","setEndDate","copiedUrl","setCopiedUrl","isMounted","setIsMounted","welcomeAnimation","setWelcomeAnimation","timer","setTimeout","welcomeTimer","clearTimeout","handleLogoutConfirmation","window","confirm","urls","isLoading","urlsLoading","queryKey","username","queryFn","enabled","analytics","analyticsLoading","analyticsError","refetchOnWindowFocus","shortenMutation","mutationFn","originalUrl","post","onSuccess","invalidateQueries","onError","handleShortenSubmit","e","preventDefault","trim","mutate","totalClicks","reduce","sum","event","count","getFullShortUrl","shortCode","base","defaults","baseURL","replace","code","generateChartData","labels","datasets","dataPoints","analyticsMap","Map","map","currentDate","lastDate","dateStringForMap","push","toLocaleDateString","setDate","borderColor","tension","fill","chartData","dynamicChartOptions","handleCopy","fullUrl","navigator","clipboard","writeText","then","catch","err","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","htmlFor","id","type","value","onChange","target","placeholder","required","disabled","isPending","href","shortUrl","rel","_","i","length","url","prev","clickCount","stopPropagation","xmlns","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","createdDate","max","min","Error","options","_c","$RefreshReg$"],"sources":["C:/Users/MINHAJUL ISLAM/Desktop/Minhaj/Bitly_Clone/url-shortener-react/frontend/src/pages/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport axios from 'axios';\nimport { useAuth } from '../context/AuthContext';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { Line } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  TimeScale\n} from 'chart.js';\nimport 'chartjs-adapter-date-fns';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  TimeScale\n);\n\n// DTO Interfaces (consistent with backend)\ninterface UrlMappingDTO {\n  id: number;\n  originalUrl: string;\n  shortUrl: string; // Expecting just the code, e.g., \"abcdef\"\n  clickCount: number;\n  createdDate: string;\n  username: string;\n}\n\ninterface ClickEventDTO {\n  clickDate: string;\n    count: number;\n}\n\n// --- Helper Function to Format Date for API ---\nconst formatDateForAPI = (dateString: string): string => {\n  // Ensures the date is treated as local time and formatted correctly for backend\n  const date = new Date(dateString);\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, '0');\n  const day = String(date.getDate()).padStart(2, '0');\n  return `${year}-${month}-${day}T00:00:00`;\n};\nconst formatEndDateForAPI = (dateString: string): string => {\n  const date = new Date(dateString);\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, '0');\n  const day = String(date.getDate()).padStart(2, '0');\n  return `${year}-${month}-${day}T23:59:59`;\n};\n\n// --- Chart Configuration ---\nconst chartOptions = {\n  responsive: true,\n  maintainAspectRatio: false,\n  plugins: {\n    legend: {\n      position: 'top' as const,\n    },\n    title: {\n      display: true,\n      text: 'Clicks Over Time' // Title will be updated dynamically\n    },\n    tooltip: {\n      callbacks: {\n        label: function(context: any) {\n          return ` Clicks: ${context.raw}`;\n        }\n      }\n    }\n  },\n  scales: {\n    y: {\n      beginAtZero: true,\n      ticks: {\n        stepSize: 1,\n        precision: 0 // Ensure integer ticks\n      }\n    },\n    x: {\n      ticks: {\n        maxRotation: 45,\n        minRotation: 45\n      }\n    }\n  }\n};\n\n// --- Data Fetching Function for Analytics ---\n// Takes shortUrl code (string) or null\nconst fetchAnalytics = async (shortUrlCode: string | null, startDateStr: string, endDateStr: string): Promise<ClickEventDTO[]> => {\n  const params = {\n    startDate: formatDateForAPI(startDateStr),\n    endDate: formatEndDateForAPI(endDateStr)\n  };\n  let apiUrl = '/api/urls/analytics/user'; // Default to overall user analytics\n  let logPrefix = '[Overall Analytics]';\n\n  if (shortUrlCode !== null) {\n    apiUrl = `/api/urls/analytics/${shortUrlCode}`; // Use shortUrlCode directly in the path\n    logPrefix = `[URL Analytics Code: ${shortUrlCode}]`;\n  }\n\n  console.log(`${logPrefix} Fetching from ${apiUrl} with params:`, params);\n  \n  try {\n    const response = await axios.get<ClickEventDTO[]>(apiUrl, { params });\n    console.log(`${logPrefix} Response data:`, response.data);\n    \n    const data = Array.isArray(response.data) ? response.data : [];\n    \n    // Sort the data by date\n    const sortedData = data.sort((a, b) => \n      new Date(a.clickDate).getTime() - new Date(b.clickDate).getTime()\n    );\n    \n    console.log(`${logPrefix} Processed & sorted data:`, sortedData);\n    return sortedData;\n  } catch (error) {\n    console.error(`${logPrefix} Error fetching analytics:`, error);\n    if (axios.isAxiosError(error)) {\n      console.error(`${logPrefix} Axios error details:`, error.response?.data || error.message);\n    }\n    // Return empty array to avoid breaking UI, but log the error\n    return []; \n  }\n};\n\n// --- Dashboard Component ---\nconst Dashboard: React.FC = () => {\n  const { user, logout } = useAuth();\n  const queryClient = useQueryClient();\n  const navigate = useNavigate();\n\n  // State for URL Shortening\n  const [originalUrlInput, setOriginalUrlInput] = useState('');\n  const [shortenError, setShortenError] = useState('');\n  const [lastShortened, setLastShortened] = useState<UrlMappingDTO | null>(null);\n\n  // State for Analytics - selectedUrl now stores the shortUrl string\n  const [selectedUrl, setSelectedUrl] = useState<string | null>(null);\n  const [startDate, setStartDate] = useState<string>(new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]);\n  const [endDate, setEndDate] = useState<string>(new Date().toISOString().split('T')[0]);\n\n  // State to track which URL was just copied\n  const [copiedUrl, setCopiedUrl] = useState<string | null>(null);\n\n  // State to trigger animation\n  const [isMounted, setIsMounted] = useState(false);\n  const [welcomeAnimation, setWelcomeAnimation] = useState(false);\n\n  // Trigger mount animation\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setIsMounted(true);\n    }, 50); \n    // Trigger welcome message animation slightly later\n    const welcomeTimer = setTimeout(() => {\n      setWelcomeAnimation(true);\n    }, 200); // Adjust delay as needed\n    return () => {\n      clearTimeout(timer);\n      clearTimeout(welcomeTimer);\n    }\n  }, []);\n\n  // Logout confirmation handler\n  const handleLogoutConfirmation = () => {\n    if (window.confirm(\"Are you sure you want to log out?\")) {\n      logout();\n    }\n  };\n\n  // --- Data Fetching: User's URLs ---\n  const { data: urls, isLoading: urlsLoading } = useQuery<UrlMappingDTO[]>({\n    queryKey: ['urls', user?.username], // Include username in key\n    queryFn: async () => {\n      const response = await axios.get('/api/urls/myurls');\n      // console.log('URLs response:', response.data); // Optional: uncomment for debugging\n      return response.data;\n    },\n    enabled: !!user // Only fetch if user is loaded\n  });\n\n  // --- Data Fetching: Analytics ---\n  const { data: analytics, isLoading: analyticsLoading, error: analyticsError } = useQuery<ClickEventDTO[]>({\n    // Key changes based on selectedUrl (shortUrl string), startDate, and endDate\n    queryKey: ['analytics', selectedUrl ?? 'user', startDate, endDate], \n    queryFn: () => fetchAnalytics(selectedUrl, startDate, endDate), // Pass selectedUrl (shortUrl string or null)\n    enabled: !!user, // Only fetch analytics if user is loaded\n    refetchOnWindowFocus: false, // Optional: disable refetch on window focus if causing issues\n    // staleTime: 5 * 60 * 1000, // Optional: Set data as stale after 5 minutes\n  });\n\n  // --- Mutation: Shorten URL ---\n  const shortenMutation = useMutation<UrlMappingDTO, Error, { originalUrl: string }>({\n    mutationFn: async ({ originalUrl }) => {\n      const response = await axios.post<UrlMappingDTO>('/api/urls/shorten', { originalUrl });\n      return response.data;\n    },\n    onSuccess: (data) => {\n      console.log('Shortened URL data:', data);\n      setLastShortened(data); // Store last shortened URL info\n      setOriginalUrlInput(''); // Clear input\n      setShortenError('');\n      queryClient.invalidateQueries({ queryKey: ['urls', user?.username] }); // Refetch URL list\n    },\n    onError: (error) => {\n      console.error('Error shortening URL:', error);\n      setShortenError(`Failed to shorten URL: ${error.message}`);\n      setLastShortened(null);\n    },\n  });\n\n  const handleShortenSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    setShortenError('');\n    setLastShortened(null);\n    if (!originalUrlInput.trim()) {\n      setShortenError('Please enter a URL.');\n      return;\n    }\n    shortenMutation.mutate({ originalUrl: originalUrlInput });\n  };\n\n  // --- Calculations & Formatting ---\n  const totalClicks = analytics ? analytics.reduce((sum, event) => sum + event.count, 0) : 0;\n  \n  // Function to create the full short URL for linking\n  const getFullShortUrl = (shortCode: string): string => {\n    const base = (axios.defaults.baseURL || '').replace(/\\/$/, '');\n    const code = shortCode.replace(/^\\//, '');\n    return `${base}/${code}`;\n  };\n  \n  // Prepare chart data dynamically, filling in missing dates\n  const generateChartData = () => {\n    if (!analytics) return { labels: [], datasets: [] };\n\n    const labels: string[] = [];\n    const dataPoints: number[] = [];\n    // Map date string (YYYY-MM-DD) from backend data to count\n    const analyticsMap = new Map(analytics.map(event => [event.clickDate.split('T')[0], event.count])); \n\n    let currentDate = new Date(startDate + 'T00:00:00'); // Interpret start date in local time\n    const lastDate = new Date(endDate + 'T00:00:00');   // Interpret end date in local time\n\n    // Ensure loop works across month/year changes correctly\n    while (currentDate <= lastDate) {\n      // Create the key for the map lookup in YYYY-MM-DD format from local date parts\n      const year = currentDate.getFullYear();\n      const month = String(currentDate.getMonth() + 1).padStart(2, '0');\n      const day = String(currentDate.getDate()).padStart(2, '0');\n      const dateStringForMap = `${year}-${month}-${day}`; \n\n      // Use locale string for the display label on the chart\n      labels.push(currentDate.toLocaleDateString()); \n      // Lookup count using the correctly formatted local date string\n      dataPoints.push(analyticsMap.get(dateStringForMap) || 0); \n      \n      // Move to the next day (modifies currentDate in place)\n      currentDate.setDate(currentDate.getDate() + 1);\n    }\n\n    return {\n      labels,\n      datasets: [\n        {\n          label: 'Clicks',\n          data: dataPoints,\n          borderColor: 'rgb(75, 192, 192)',\n          tension: 0.1,\n          fill: false\n        }\n      ]\n    };\n  };\n\n  const chartData = generateChartData();\n  \n  // Update chart title dynamically\n  const dynamicChartOptions = {\n    ...chartOptions,\n    plugins: {\n      ...chartOptions.plugins,\n      title: {\n        ...chartOptions.plugins.title,\n        text: selectedUrl ? 'Clicks Over Time (Selected URL)' : 'Clicks Over Time (All URLs)'\n      }\n    }\n  };\n\n  // Function to copy text to clipboard\n  const handleCopy = (shortCode: string) => {\n    const fullUrl = getFullShortUrl(shortCode);\n    navigator.clipboard.writeText(fullUrl).then(() => {\n      setCopiedUrl(shortCode); // Set the copied URL code for feedback\n      setTimeout(() => setCopiedUrl(null), 2000); // Reset after 2 seconds\n    }).catch(err => {\n      console.error('Failed to copy URL: ', err);\n      // Optionally show an error message to the user\n    });\n  };\n\n  // --- Render Logic ---\n  return (\n    <div className={`min-h-screen bg-gradient-to-b from-gray-100 to-gray-200 transition-opacity duration-500 ease-in-out ${isMounted ? 'opacity-100' : 'opacity-0'}`}>\n      {/* Navigation - Updated with sticky classes and light blue background */}\n      <nav className=\"bg-blue-100 shadow-sm sticky top-0 z-50 border-b border-gray-200\"> {/* Changed bg-white/80 backdrop-blur-md to bg-blue-100 */}\n         <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n           <div className=\"flex justify-between h-16\">\n              {/* Logo */} \n              <div className=\"flex items-center\">\n                 <Link to=\"/\" className=\"text-2xl font-bold text-blue-600\">\n                   Minifi\n                 </Link>\n               </div>\n               {/* Right side: Welcome message, Home button, Logout button */}\n              <div className=\"flex items-center space-x-4\">\n                 {/* Welcome Message with Fade-in & Slide-down */} \n                 <div className=\"overflow-hidden\"> {/* Container to clip the slide */} \n                   <span \n                     className={`block text-gray-700 text-base transform transition-all duration-500 ease-out ${ \n                       welcomeAnimation ? 'opacity-100 translate-y-0' \n                         : 'opacity-0 -translate-y-3' // Start transparent and slightly up\n                     }`}\n                    > \n                     Welcome, <span className=\"font-medium\">{user?.username}</span>\n                   </span>\n                 </div>\n                 <button\n                   onClick={() => navigate('/')}\n                   className=\"px-3 py-1.5 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-150 ease-in-out\"\n                 >\n                   Home\n                 </button>\n                 <button\n                   onClick={handleLogoutConfirmation}\n                   className=\"px-3 py-1.5 rounded-md text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors\"\n                 >\n                   Logout\n                 </button>\n               </div>\n           </div>\n         </div>\n       </nav>\n\n      {/* Add padding-top to main content area to prevent overlap with sticky nav */}\n      <div className=\"max-w-7xl mx-auto pt-6 pb-6 sm:px-6 lg:px-8\"> {/* Added pt-6 */} \n        \n        {/* Shorten URL Form */}\n        <div className=\"mb-8 p-6 bg-white rounded-lg shadow\">\n          <h2 className=\"text-2xl font-semibold mb-4\">Shorten a New URL</h2>\n          <form onSubmit={handleShortenSubmit} className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"originalUrl\" className=\"block text-sm font-medium text-gray-700 mb-1\">Enter URL to shorten:</label>\n              <input\n                id=\"originalUrl\"\n                type=\"url\"\n                value={originalUrlInput}\n                onChange={(e) => setOriginalUrlInput(e.target.value)}\n                placeholder=\"https://example.com/very/long/url/to/shorten\"\n                className=\"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                required\n                disabled={shortenMutation.isPending}\n              />\n            </div>\n            <button\n              type=\"submit\"\n              disabled={shortenMutation.isPending}\n              className=\"w-full sm:w-auto bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:bg-blue-300 transition-colors\"\n            >\n              {shortenMutation.isPending ? 'Shortening...' : 'Shorten URL'}\n            </button>\n          </form>\n          {shortenError && (\n            <p className=\"mt-3 text-red-600\">{shortenError}</p>\n          )}\n          {lastShortened && (\n            <div className=\"mt-4 p-3 bg-green-50 border border-green-200 rounded-md\">\n              <p className=\"text-green-800\">Successfully shortened!</p>\n              <p className=\"text-sm text-gray-600 mt-1\">Original: <span className=\"break-all\">{lastShortened.originalUrl}</span></p>\n              <p className=\"text-sm text-gray-600\">Short URL: \n                <a \n                  href={getFullShortUrl(lastShortened.shortUrl)} \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  className=\"text-blue-600 hover:underline ml-1 break-all\"\n                >\n                  {getFullShortUrl(lastShortened.shortUrl)}\n                </a>\n              </p>\n            </div>\n          )}\n        </div>\n\n        {/* Main Content Grid: URL List and Analytics */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          \n        {/* URL List */}\n        <div className=\"lg:col-span-2\">\n            <h2 className=\"text-2xl font-semibold mb-4\">Your Shortened URLs</h2>\n          {urlsLoading ? (\n              <div className=\"space-y-4\">\n                {[...Array(3)].map((_, i) => (\n                  <div key={i} className=\"h-24 bg-gray-200 rounded-lg animate-pulse\"></div>\n                ))}\n            </div>\n            ) : !urls || urls.length === 0 ? (\n              <p className=\"text-gray-500\">You haven't shortened any URLs yet.</p>\n          ) : (\n            <div className=\"space-y-4\">\n              {urls?.map((url) => (\n                <div\n                    key={url.id} // Keep using numerical id for React key\n                    className={`p-4 border rounded-lg cursor-pointer transition-all duration-150 ease-in-out ${\n                      selectedUrl === url.shortUrl // Compare with shortUrl string for highlighting\n                        ? 'border-blue-500 bg-blue-50 shadow-md' \n                        : 'border-gray-200 hover:border-gray-300 hover:shadow-sm'\n                    }`}\n                    // Set selectedUrl state to the shortUrl string or null\n                    onClick={() => setSelectedUrl(prev => prev === url.shortUrl ? null : url.shortUrl)} \n                  >\n                    <div className=\"flex justify-between items-start mb-1\">\n                      <p className=\"text-sm text-gray-500 break-all pr-2\">{url.originalUrl}</p>\n                      <span className=\"text-sm text-gray-600 font-medium whitespace-nowrap\">{url.clickCount} total clicks</span>\n                    </div>\n                    <div className=\"flex justify-between items-center mt-1\">\n                    <a\n                        href={getFullShortUrl(url.shortUrl)} // Use helper function\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                        onClick={(e) => e.stopPropagation()} // Prevent card click when clicking link\n                        className=\"text-blue-600 hover:underline break-all text-lg font-medium mr-3\"\n                      >\n                        {/* Display the full short URL */} \n                        {getFullShortUrl(url.shortUrl)} \n                      </a>\n                      <div className=\"flex items-center space-x-2 flex-shrink-0 ml-auto\">\n                        <button\n                          onClick={(e) => { \n                            e.stopPropagation(); // Prevent card click\n                            handleCopy(url.shortUrl); \n                          }}\n                          title=\"Copy short URL\"\n                          className={`p-1.5 rounded-md transition-colors ${ \n                            copiedUrl === url.shortUrl \n                              ? 'bg-green-100 text-green-700' \n                              : 'bg-gray-100 text-gray-500 hover:bg-gray-200 hover:text-gray-700'\n                          }`}\n                        >\n                          {/* Conditional Icon/Text */} \n                          {copiedUrl === url.shortUrl ? (\n                            // CheckIcon (Heroicons example)\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M5 13l4 4L19 7\" />\n                            </svg>\n                          ) : (\n                            // ClipboardDocumentIcon (Heroicons example)\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n                            </svg>\n                          )}\n                        </button>\n                        <span className=\"text-xs text-gray-400 whitespace-nowrap\">\n                          Created: {new Date(url.createdDate).toLocaleDateString()}\n                        </span>\n                      </div>\n                    </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n          {/* Analytics Section */}\n          <div className=\"lg:col-span-1\">\n            <h2 className=\"text-2xl font-semibold mb-4\">\n              {selectedUrl ? 'URL Analytics' : 'Overall Analytics'} \n            </h2>\n            {/* Date Range Picker */}\n            <div className=\"mb-6 p-4 bg-white rounded-lg shadow-sm border\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Select Date Range:</label>\n              <div className=\"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2\">\n                <input\n                  type=\"date\"\n                  value={startDate}\n                  onChange={(e) => setStartDate(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                  max={endDate} // Prevent start date being after end date\n                />\n                <input\n                  type=\"date\"\n                  value={endDate}\n                  onChange={(e) => setEndDate(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                  min={startDate} // Prevent end date being before start date\n                />\n              </div>\n            </div>\n\n            {/* Analytics Display Area */}\n            {analyticsLoading ? (\n              <div className=\"space-y-4\">\n                 <div className=\"h-16 bg-gray-200 rounded-lg animate-pulse\"></div>\n                 <div className=\"h-64 bg-gray-200 rounded-lg animate-pulse\"></div>\n                 <div className=\"h-32 bg-gray-200 rounded-lg animate-pulse\"></div>\n            </div>\n            ) : analyticsError ? (\n              <div className=\"text-red-600 p-4 border border-red-200 rounded-lg bg-red-50\">\n                Error loading analytics: {analyticsError instanceof Error ? analyticsError.message : 'Unknown error'}\n              </div>\n            ) : !analytics || analytics.length === 0 ? (\n               <div className=\"text-gray-500 p-4 border rounded-lg bg-gray-50 text-center\">\n                 No click data available for the selected {selectedUrl ? 'URL and' : ''} date range.\n                    </div>\n            ) : (\n              <div className=\"space-y-6\">\n                {/* Total Clicks Card */}\n                <div className=\"p-4 bg-white border rounded-lg shadow-sm\">\n                  <h3 className=\"text-lg font-medium text-gray-700 mb-1\">Total Clicks</h3>\n                  <p className=\"text-3xl font-bold text-blue-600\">{totalClicks}</p>\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    Between {new Date(startDate + 'T00:00:00').toLocaleDateString()} and {new Date(endDate + 'T00:00:00').toLocaleDateString()}\n                  </p>\n              </div>\n\n                {/* Clicks Over Time Chart */}\n                <div className=\"p-4 bg-white border rounded-lg shadow-sm\">\n                  <h3 className=\"text-lg font-medium text-gray-700 mb-2\">\n                     {selectedUrl ? 'Daily Clicks (Selected URL)' : 'Daily Clicks (All URLs)'} \n                  </h3>\n                  <div className=\"h-64 relative\">\n                    <Line data={chartData} options={dynamicChartOptions} />\n                    </div>\n                </div>\n              </div>\n            )}\n            </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}